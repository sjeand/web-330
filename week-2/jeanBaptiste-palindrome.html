<!--
==========================================
  Title: Assignment 1.3
  Author: Professor Krasso
  Date: 03/15/2021
  Modified by: Sarah Jean Baptiste
  Description: Landing page for WEB-330
==========================================
-->

<!DOCTYPE html> 
<html lang="en">

    <!--Document header starts here.-->
    <head> 
    <title>WEB 330 - Enterprise JavaScript II</title> 

    <!-- CSS stylesheets-->
    <link href="../site.css" rel="stylesheet" type="text/css"> 
    <link href="../theme.css" rel="stylesheet" type="text/css">
    
    <!-- CDN stylesheets-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    </head> 

    <!--Document Body Starts here.-->
    <body class="light-theme">
        <div class="assign-container">
            <h1 class="app-header" style="background-color: white; color: black; border: none;">Welcome to the Palindrome App!</h1>

            <div class="assign-content">
                <div class ="card">
                    <div class="card-title">Palindrome Checker</div>
                    <div class="card-content">
                        <div class="form">
                            <div class="form-field">
                                <label for="txtPhrase">Phrase value:</label>
                                <input type="text" class="input" id="txtPhrase" name="phrase">
                            </div>
                            <!--Button to check phrase.-->
                            <div class="form-field">
                                <button type="button" class="btn btn-primary full-width" id="btnCheckPhrase">Check Phrase</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--Return link to landing page-->
        <div class="assign-content">
            <a class="return-home" href="https://sjeand.github.io/web-330/">Return</a>
        </div>
        <!--Card that will show results for sequence based on option selected.-->
        <div class="assign-container">

            <div class="assign-content">
                <div class="card">
                    <div class="card-title">Palindrome Results</div>
                        <div id="assign-results-header" style="padding: 20px;"></div>
                        <div class="card-content assign-results-text" id="assign-results" style="text-align: center;"></div>
                    
                </div>
            </div>
        </div>

        <script>      
            //Function to get todays date.
            function getTodaysDate(date) {
                var dateObject = new Date();
                return dateObject.toLocaleDateString(date);
            };
            
            //Function to get strings length.
            function getLength(string) {
                return string.length;
            };

            //Function to reverse string.
            function reverse(string) {
                let array = string.split('');
                let reversedArray = array.reverse();
                let reversedString = reversedArray.join('');

                return reversedString;
            };
            
            //Function for Palindrome and to return reversed string.
            function isPalindrome(string) {
                return reverse(string) == string;
            };
            
            //Register an onclick event for Check Phrase button. 
            document.getElementById("btnCheckPhrase").onclick = function testClick() {
            
            
                // Assign variable to capture txtPhrase.
                let txtPhrase = document.getElementById("txtPhrase").value;

                // Assign variable to capture assignResults.
                let assignResults = document.getElementById("assign-results");

                // Assign variable to capture assignResultsHeader.
                let assignResultsHeader = document.getElementById("assign-results-header");

                // Assign variable to capture todaysDate and format it to english-US. 
                let today = getTodaysDate("en-US");
                
                // Assign Variable to length. 
                let len = getLength(txtPhrase);
                
                // Assign variable to reverse.
                let reversedPhrase = reverse(txtPhrase);
                
                // Message to display "is a palindrome" if true and "is not a palindrome" if false.
                let message;
                if (isPalindrome(txtPhrase)== true) {
                    message = `${txtPhrase.toLowerCase()} <strong><u>is</u></strong> a Palindrome!`            
                }
                else
                {
                    message = `${txtPhrase.toLowerCase()} <strong><u>is not</u></strong> a Palindrome!` 
                }

                // Create a variable for header and set date, phrase, reversed phrase, and length.
                let header = `
                Date: ${today}<br>
                Original Phrase: ${txtPhrase.toLowerCase()}<br>
                Reversed Phrase: ${reversedPhrase.toLowerCase()}<br>
                Phrase Length: ${len}<br>`

                assignResultsHeader.innerHTML = header;

                
                // Create a variable for results and message based on if, else statement. 
                let results = `${message}`

                assignResults.innerHTML = results;
            }

        </script>
    </body>
</html>